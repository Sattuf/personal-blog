const express = require('express');
const cors = require('cors');

const app = express();
const PORT = process.env.PORT || 5000;

// CORS Configuration - Allow requests from frontend
const corsOptions = {
  origin: ['http://localhost:3000', 'http://localhost:5173', 'http://127.0.0.1:3000', 'http://127.0.0.1:5173'],
  methods: ['GET', 'POST', 'PUT', 'DELETE'],
  allowedHeaders: ['Content-Type', 'Authorization'],
  credentials: true
};

// Middleware
app.use(cors(corsOptions));
app.use(express.json());

// Logging middleware
app.use((req, res, next) => {
  console.log(`${new Date().toISOString()} - ${req.method} ${req.path}`);
  next();
});

// Sample articles data
const articles = [
  {
    id: 1,
    title: 'Ø±Ø­Ù„Ø© ÙÙŠ Ø¹Ø§Ù„Ù… Ø§Ù„Ø´Ø¹Ø± Ø§Ù„Ø¹Ø±Ø¨ÙŠ',
    excerpt: 'Ø§Ù„Ø´Ø¹Ø± Ø§Ù„Ø¹Ø±Ø¨ÙŠ Ù‡Ùˆ Ø£Ø­Ø¯ Ø£Ø¹Ø¸Ù… Ø§Ù„ÙÙ†ÙˆÙ† Ø§Ù„Ø£Ø¯Ø¨ÙŠØ© Ø§Ù„ØªÙŠ Ø¹Ø±ÙØªÙ‡Ø§ Ø§Ù„Ø¥Ù†Ø³Ø§Ù†ÙŠØ©ØŒ ÙÙ‡Ùˆ ÙŠØ¬Ù…Ø¹ Ø¨ÙŠÙ† Ø¬Ù…Ø§Ù„ Ø§Ù„Ù„ØºØ© ÙˆØ¹Ù…Ù‚ Ø§Ù„Ù…Ø¹Ù†Ù‰...',
    content: `Ø§Ù„Ø´Ø¹Ø± Ø§Ù„Ø¹Ø±Ø¨ÙŠ Ù‡Ùˆ Ø£Ø­Ø¯ Ø£Ø¹Ø¸Ù… Ø§Ù„ÙÙ†ÙˆÙ† Ø§Ù„Ø£Ø¯Ø¨ÙŠØ© Ø§Ù„ØªÙŠ Ø¹Ø±ÙØªÙ‡Ø§ Ø§Ù„Ø¥Ù†Ø³Ø§Ù†ÙŠØ©ØŒ ÙÙ‡Ùˆ ÙŠØ¬Ù…Ø¹ Ø¨ÙŠÙ† Ø¬Ù…Ø§Ù„ Ø§Ù„Ù„ØºØ© ÙˆØ¹Ù…Ù‚ Ø§Ù„Ù…Ø¹Ù†Ù‰. Ù…Ù†Ø° Ø§Ù„Ø¹ØµØ± Ø§Ù„Ø¬Ø§Ù‡Ù„ÙŠ ÙˆØ­ØªÙ‰ ÙŠÙˆÙ…Ù†Ø§ Ù‡Ø°Ø§ØŒ Ø¸Ù„ Ø§Ù„Ø´Ø¹Ø± Ø§Ù„Ø¹Ø±Ø¨ÙŠ Ù…Ø±Ø¢Ø© ØªØ¹ÙƒØ³ Ø£Ø­ÙˆØ§Ù„ Ø§Ù„Ù…Ø¬ØªÙ…Ø¹ ÙˆØªØ·Ù„Ø¹Ø§ØªÙ‡.

ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ù…Ù‚Ø§Ù„ØŒ Ù†Ø³ØªÙƒØ´Ù Ø¬Ù…Ø§Ù„ÙŠØ§Øª Ø§Ù„Ø´Ø¹Ø± Ø§Ù„Ø¹Ø±Ø¨ÙŠ Ù…Ù† Ø®Ù„Ø§Ù„ Ø£Ø¨Ø±Ø² Ø®ØµØ§Ø¦ØµÙ‡: Ø§Ù„ÙˆØ²Ù† ÙˆØ§Ù„Ù‚Ø§ÙÙŠØ©ØŒ ÙˆØ§Ù„ØµÙˆØ± Ø§Ù„Ø´Ø¹Ø±ÙŠØ©ØŒ ÙˆØ§Ù„Ù…Ø¹Ø§Ù†ÙŠ Ø§Ù„Ø¹Ù…ÙŠÙ‚Ø© Ø§Ù„ØªÙŠ ÙŠØ­Ù…Ù„Ù‡Ø§. Ø§Ù„Ø´Ø¹Ø± Ù„ÙŠØ³ Ù…Ø¬Ø±Ø¯ ÙƒÙ„Ù…Ø§Øª Ù…Ù†Ø¸ÙˆÙ…Ø©ØŒ Ø¨Ù„ Ù‡Ùˆ ØªØ¬Ø±Ø¨Ø© Ø¥Ù†Ø³Ø§Ù†ÙŠØ© Ø´Ø§Ù…Ù„Ø© ØªÙ„Ø§Ù…Ø³ Ø§Ù„ÙˆØ¬Ø¯Ø§Ù† ÙˆØªØ«ÙŠØ± Ø§Ù„Ø¹Ù‚Ù„.

Ù…Ù† Ø§Ù„Ù…Ø¹Ù„Ù‚Ø§Øª Ø§Ù„Ø³Ø¨Ø¹ Ø¥Ù„Ù‰ Ø§Ù„Ø´Ø¹Ø± Ø§Ù„Ø­Ø¯ÙŠØ«ØŒ Ù†Ø¬Ø¯ Ø£Ù† Ø§Ù„Ø´Ø¹Ø± Ø§Ù„Ø¹Ø±Ø¨ÙŠ Ù‚Ø¯ ØªØ·ÙˆØ± ÙÙŠ Ø£Ø´ÙƒØ§Ù„Ù‡ ÙˆÙ…ÙˆØ¶ÙˆØ¹Ø§ØªÙ‡ØŒ Ù„ÙƒÙ†Ù‡ Ø­Ø§ÙØ¸ Ø¹Ù„Ù‰ Ø¬ÙˆÙ‡Ø±Ù‡ Ø§Ù„Ø£ØµÙŠÙ„. Ø¥Ù†Ù‡ ÙÙ† ÙŠØ³ØªØ­Ù‚ Ø§Ù„Ø¯Ø±Ø§Ø³Ø© ÙˆØ§Ù„ØªØ£Ù…Ù„ØŒ ÙÙ† ÙŠØ±Ø¨Ø·Ù†Ø§ Ø¨ØªØ±Ø§Ø«Ù†Ø§ ÙˆÙŠÙØªØ­ Ù„Ù†Ø§ Ø¢ÙØ§Ù‚Ø§Ù‹ Ø¬Ø¯ÙŠØ¯Ø© Ù„Ù„ØªØ¹Ø¨ÙŠØ± Ø¹Ù† Ø§Ù„Ø°Ø§Øª.`,
    category: 'literary',
    date: '2025-10-10'
  },
  {
    id: 2,
    title: 'Ø§Ù„Ø­Ø±ÙŠØ© ÙˆØ§Ù„Ù…Ø³Ø¤ÙˆÙ„ÙŠØ©: ØªØ£Ù…Ù„Ø§Øª ÙÙ„Ø³ÙÙŠØ©',
    excerpt: 'Ø§Ù„Ø¹Ù„Ø§Ù‚Ø© Ø¨ÙŠÙ† Ø§Ù„Ø­Ø±ÙŠØ© ÙˆØ§Ù„Ù…Ø³Ø¤ÙˆÙ„ÙŠØ© Ù…Ù† Ø£Ø¹Ù‚Ø¯ Ø§Ù„Ù‚Ø¶Ø§ÙŠØ§ Ø§Ù„ÙÙ„Ø³ÙÙŠØ© Ø§Ù„ØªÙŠ Ø´ØºÙ„Øª Ø§Ù„ÙÙƒØ± Ø§Ù„Ø¥Ù†Ø³Ø§Ù†ÙŠ Ø¹Ø¨Ø± Ø§Ù„Ø¹ØµÙˆØ±...',
    content: `Ø§Ù„Ø¹Ù„Ø§Ù‚Ø© Ø¨ÙŠÙ† Ø§Ù„Ø­Ø±ÙŠØ© ÙˆØ§Ù„Ù…Ø³Ø¤ÙˆÙ„ÙŠØ© Ù…Ù† Ø£Ø¹Ù‚Ø¯ Ø§Ù„Ù‚Ø¶Ø§ÙŠØ§ Ø§Ù„ÙÙ„Ø³ÙÙŠØ© Ø§Ù„ØªÙŠ Ø´ØºÙ„Øª Ø§Ù„ÙÙƒØ± Ø§Ù„Ø¥Ù†Ø³Ø§Ù†ÙŠ Ø¹Ø¨Ø± Ø§Ù„Ø¹ØµÙˆØ±. ÙØ§Ù„Ø­Ø±ÙŠØ© Ù„ÙŠØ³Øª Ù…Ø¬Ø±Ø¯ Ø§Ù„Ù‚Ø¯Ø±Ø© Ø¹Ù„Ù‰ ÙØ¹Ù„ Ù…Ø§ Ù†Ø´Ø§Ø¡ØŒ Ø¨Ù„ Ù‡ÙŠ Ù…Ø³Ø¤ÙˆÙ„ÙŠØ© ØªØ¬Ø§Ù‡ Ø£Ù†ÙØ³Ù†Ø§ ÙˆØ§Ù„Ø¢Ø®Ø±ÙŠÙ†.

ÙÙŠ Ø§Ù„ÙÙ„Ø³ÙØ© Ø§Ù„ÙˆØ¬ÙˆØ¯ÙŠØ©ØŒ ÙŠØ±Ù‰ Ø³Ø§Ø±ØªØ± Ø£Ù† Ø§Ù„Ø¥Ù†Ø³Ø§Ù† Ù…Ø­ÙƒÙˆÙ… Ø¹Ù„ÙŠÙ‡ Ø¨Ø£Ù† ÙŠÙƒÙˆÙ† Ø­Ø±Ø§Ù‹ØŒ ÙˆØ£Ù† Ù‡Ø°Ù‡ Ø§Ù„Ø­Ø±ÙŠØ© ØªØ­Ù…Ù„ Ù…Ø¹Ù‡Ø§ Ø¹Ø¨Ø¡ Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ÙŠØ© Ø§Ù„ÙƒØ§Ù…Ù„Ø© Ø¹Ù† Ø§Ø®ØªÙŠØ§Ø±Ø§ØªÙ†Ø§. Ù„ÙƒÙ† Ù‡Ù„ Ø§Ù„Ø­Ø±ÙŠØ© Ø§Ù„Ù…Ø·Ù„Ù‚Ø© Ù…Ù…ÙƒÙ†Ø©ØŸ ÙˆÙ‡Ù„ ÙŠÙ…ÙƒÙ† Ø£Ù† Ù†ÙƒÙˆÙ† Ø£Ø­Ø±Ø§Ø±Ø§Ù‹ Ø¯ÙˆÙ† Ù‚ÙŠÙˆØ¯ØŸ

Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© ØªÙƒÙ…Ù† ÙÙŠ ÙÙ‡Ù… Ø£Ù† Ø§Ù„Ø­Ø±ÙŠØ© Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ© Ù‡ÙŠ ØªÙ„Ùƒ Ø§Ù„ØªÙŠ ØªØ£Ø®Ø° ÙÙŠ Ø§Ù„Ø§Ø¹ØªØ¨Ø§Ø± Ø­Ù‚ÙˆÙ‚ Ø§Ù„Ø¢Ø®Ø±ÙŠÙ† ÙˆÙ…ØµÙ„Ø­Ø© Ø§Ù„Ù…Ø¬ØªÙ…Ø¹. Ø¥Ù†Ù‡Ø§ Ø­Ø±ÙŠØ© Ù…Ø³Ø¤ÙˆÙ„Ø©ØŒ ØªØ¯Ø±Ùƒ Ø£Ù† ÙƒÙ„ ÙØ¹Ù„ Ù„Ù‡ Ø¹ÙˆØ§Ù‚Ø¨ØŒ ÙˆØ£Ù† Ø§Ø®ØªÙŠØ§Ø±Ø§ØªÙ†Ø§ ØªØ´ÙƒÙ„ Ù„ÙŠØ³ ÙÙ‚Ø· Ø­ÙŠØ§ØªÙ†Ø§ØŒ Ø¨Ù„ Ø­ÙŠØ§Ø© Ù…Ù† Ø­ÙˆÙ„Ù†Ø§ Ø£ÙŠØ¶Ø§Ù‹.`,
    category: 'intellectual',
    date: '2025-10-08'
  },
  {
    id: 3,
    title: 'Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ© ÙÙŠ Ø¨Ù†Ø§Ø¡ Ø§Ù„Ù…Ø¬ØªÙ…Ø¹',
    excerpt: 'Ø§Ù„Ø¥Ø³Ù„Ø§Ù… Ø¯ÙŠÙ† Ø´Ø§Ù…Ù„ ÙŠÙ‚Ø¯Ù… Ù…Ù†Ø¸ÙˆÙ…Ø© Ù‚ÙŠÙ…ÙŠØ© Ù…ØªÙƒØ§Ù…Ù„Ø© Ù„Ø¨Ù†Ø§Ø¡ Ù…Ø¬ØªÙ…Ø¹ Ù…ØªÙ…Ø§Ø³Ùƒ Ù‚Ø§Ø¦Ù… Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ø¯Ù„ ÙˆØ§Ù„Ø±Ø­Ù…Ø©...',
    content: `Ø§Ù„Ø¥Ø³Ù„Ø§Ù… Ø¯ÙŠÙ† Ø´Ø§Ù…Ù„ ÙŠÙ‚Ø¯Ù… Ù…Ù†Ø¸ÙˆÙ…Ø© Ù‚ÙŠÙ…ÙŠØ© Ù…ØªÙƒØ§Ù…Ù„Ø© Ù„Ø¨Ù†Ø§Ø¡ Ù…Ø¬ØªÙ…Ø¹ Ù…ØªÙ…Ø§Ø³Ùƒ Ù‚Ø§Ø¦Ù… Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ø¯Ù„ ÙˆØ§Ù„Ø±Ø­Ù…Ø©. Ù‡Ø°Ù‡ Ø§Ù„Ù‚ÙŠÙ… Ù„ÙŠØ³Øª Ù…Ø¬Ø±Ø¯ Ù…Ø«Ù„ Ø¹Ù„ÙŠØ§ Ù†Ø¸Ø±ÙŠØ©ØŒ Ø¨Ù„ Ù‡ÙŠ Ù…Ø¨Ø§Ø¯Ø¦ Ø¹Ù…Ù„ÙŠØ© ØªÙ†Ø¸Ù… Ø­ÙŠØ§Ø© Ø§Ù„ÙØ±Ø¯ ÙˆØ§Ù„Ù…Ø¬ØªÙ…Ø¹.

Ù…Ù† Ø£Ø¨Ø±Ø² Ù‡Ø°Ù‡ Ø§Ù„Ù‚ÙŠÙ…: Ø§Ù„Ø¹Ø¯Ù„ØŒ Ø§Ù„Ø°ÙŠ ÙŠØ¹Ø¯ Ø£Ø³Ø§Ø³ Ø§Ù„Ø­ÙƒÙ… ÙˆØ§Ù„ØªØ¹Ø§Ù…Ù„ Ø¨ÙŠÙ† Ø§Ù„Ù†Ø§Ø³. ÙˆØ§Ù„Ø±Ø­Ù…Ø©ØŒ Ø§Ù„ØªÙŠ ØªØ¬Ø¹Ù„ Ù…Ù† Ø§Ù„Ù…Ø¬ØªÙ…Ø¹ Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠ Ù…Ø¬ØªÙ…Ø¹Ø§Ù‹ Ù…ØªØ¹Ø§Ø·ÙØ§Ù‹ ÙŠØ±Ø¹Ù‰ Ø§Ù„Ø¶Ø¹ÙŠÙ ÙˆÙŠØ³Ø§Ø¹Ø¯ Ø§Ù„Ù…Ø­ØªØ§Ø¬. ÙˆØ§Ù„ØªØ¹Ø§ÙˆÙ†ØŒ Ø§Ù„Ø°ÙŠ ÙŠØ¯Ø¹Ùˆ Ø¥Ù„ÙŠÙ‡ Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ… Ø¨Ù‚ÙˆÙ„Ù‡: "ÙˆØªØ¹Ø§ÙˆÙ†ÙˆØ§ Ø¹Ù„Ù‰ Ø§Ù„Ø¨Ø± ÙˆØ§Ù„ØªÙ‚ÙˆÙ‰".

ÙƒÙ…Ø§ ÙŠØ¤ÙƒØ¯ Ø§Ù„Ø¥Ø³Ù„Ø§Ù… Ø¹Ù„Ù‰ Ø£Ù‡Ù…ÙŠØ© Ø§Ù„Ø£Ø®Ù„Ø§Ù‚ ÙÙŠ Ø¨Ù†Ø§Ø¡ Ø§Ù„Ù…Ø¬ØªÙ…Ø¹ØŒ ÙØ§Ù„ØµØ¯Ù‚ ÙˆØ§Ù„Ø£Ù…Ø§Ù†Ø© ÙˆØ§Ù„ÙˆÙØ§Ø¡ Ø¨Ø§Ù„Ø¹Ù‡Ø¯ Ù…Ù† Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© Ø§Ù„ØªÙŠ ØªØ­ÙØ¸ ØªÙ…Ø§Ø³Ùƒ Ø§Ù„Ù…Ø¬ØªÙ…Ø¹ ÙˆØªÙ‚ÙˆÙŠ Ø§Ù„Ø«Ù‚Ø© Ø¨ÙŠÙ† Ø£ÙØ±Ø§Ø¯Ù‡. Ø¥Ù† ØªØ·Ø¨ÙŠÙ‚ Ù‡Ø°Ù‡ Ø§Ù„Ù‚ÙŠÙ… ÙÙŠ Ø­ÙŠØ§ØªÙ†Ø§ Ø§Ù„ÙŠÙˆÙ…ÙŠØ© Ù‡Ùˆ Ø§Ù„Ø³Ø¨ÙŠÙ„ Ù„Ø¨Ù†Ø§Ø¡ Ù…Ø¬ØªÙ…Ø¹ Ø¥Ø³Ù„Ø§Ù…ÙŠ Ø­Ù‚ÙŠÙ‚ÙŠ ÙŠØ­Ù‚Ù‚ Ø§Ù„Ø¹Ø¯Ø§Ù„Ø© ÙˆØ§Ù„Ø³Ø¹Ø§Ø¯Ø© Ù„Ù„Ø¬Ù…ÙŠØ¹.`,
    category: 'islamic',
    date: '2025-10-05'
  },
  {
    id: 4,
    title: 'ÙÙ† Ø§Ù„Ø±ÙˆØ§ÙŠØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„Ù…Ø¹Ø§ØµØ±Ø©',
    excerpt: 'Ø´Ù‡Ø¯Øª Ø§Ù„Ø±ÙˆØ§ÙŠØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© ÙÙŠ Ø§Ù„Ø¹Ù‚ÙˆØ¯ Ø§Ù„Ø£Ø®ÙŠØ±Ø© ØªØ·ÙˆØ±Ø§Ù‹ Ù…Ù„Ø­ÙˆØ¸Ø§Ù‹ØŒ Ø­ÙŠØ« Ø¨Ø±Ø² Ø¬ÙŠÙ„ Ø¬Ø¯ÙŠØ¯ Ù…Ù† Ø§Ù„Ø±ÙˆØ§Ø¦ÙŠÙŠÙ†...',
    content: `Ø´Ù‡Ø¯Øª Ø§Ù„Ø±ÙˆØ§ÙŠØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© ÙÙŠ Ø§Ù„Ø¹Ù‚ÙˆØ¯ Ø§Ù„Ø£Ø®ÙŠØ±Ø© ØªØ·ÙˆØ±Ø§Ù‹ Ù…Ù„Ø­ÙˆØ¸Ø§Ù‹ØŒ Ø­ÙŠØ« Ø¨Ø±Ø² Ø¬ÙŠÙ„ Ø¬Ø¯ÙŠØ¯ Ù…Ù† Ø§Ù„Ø±ÙˆØ§Ø¦ÙŠÙŠÙ† Ø§Ù„Ø°ÙŠÙ† Ø£Ø¶Ø§ÙÙˆØ§ Ø£Ø¨Ø¹Ø§Ø¯Ø§Ù‹ Ø¬Ø¯ÙŠØ¯Ø© Ù„Ù‡Ø°Ø§ Ø§Ù„ÙÙ† Ø§Ù„Ø£Ø¯Ø¨ÙŠ. Ù…Ù† Ù†Ø¬ÙŠØ¨ Ù…Ø­ÙÙˆØ¸ Ø¥Ù„Ù‰ Ø§Ù„Ø·ÙŠØ¨ ØµØ§Ù„Ø­ØŒ ÙˆÙ…Ù† ØºØ§Ø¯Ø© Ø§Ù„Ø³Ù…Ø§Ù† Ø¥Ù„Ù‰ Ø£Ø­Ù„Ø§Ù… Ù…Ø³ØªØºØ§Ù†Ù…ÙŠØŒ Ù†Ø¬Ø¯ ØªÙ†ÙˆØ¹Ø§Ù‹ Ø«Ø±ÙŠØ§Ù‹ ÙÙŠ Ø§Ù„Ø£Ø³Ø§Ù„ÙŠØ¨ ÙˆØ§Ù„Ù…ÙˆØ¶ÙˆØ¹Ø§Øª.

Ø§Ù„Ø±ÙˆØ§ÙŠØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„Ù…Ø¹Ø§ØµØ±Ø© Ù„Ù… ØªØ¹Ø¯ ØªÙ‚ØªØµØ± Ø¹Ù„Ù‰ Ø§Ù„Ø³Ø±Ø¯ Ø§Ù„ØªÙ‚Ù„ÙŠØ¯ÙŠØŒ Ø¨Ù„ Ø£ØµØ¨Ø­Øª ØªØ¬Ø±Ø¨ ØªÙ‚Ù†ÙŠØ§Øª Ø³Ø±Ø¯ÙŠØ© Ø¬Ø¯ÙŠØ¯Ø©ØŒ ÙˆØªØªÙ†Ø§ÙˆÙ„ Ù‚Ø¶Ø§ÙŠØ§ Ù…Ø¹Ù‚Ø¯Ø© ØªØ¹ÙƒØ³ ÙˆØ§Ù‚Ø¹ Ø§Ù„Ù…Ø¬ØªÙ…Ø¹ Ø§Ù„Ø¹Ø±Ø¨ÙŠ Ø§Ù„Ù…Ø¹Ø§ØµØ±. Ù…Ù† Ø§Ù„Ù‡ÙˆÙŠØ© ÙˆØ§Ù„Ø§Ù†ØªÙ…Ø§Ø¡ØŒ Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø±ÙŠØ© ÙˆØ§Ù„Ø¯ÙŠÙ…Ù‚Ø±Ø§Ø·ÙŠØ©ØŒ Ø¥Ù„Ù‰ Ø§Ù„ØµØ±Ø§Ø¹Ø§Øª Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ© ÙˆØ§Ù„Ø³ÙŠØ§Ø³ÙŠØ©.

Ù…Ø§ ÙŠÙ…ÙŠØ² Ø§Ù„Ø±ÙˆØ§ÙŠØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„ÙŠÙˆÙ… Ù‡Ùˆ Ù‚Ø¯Ø±ØªÙ‡Ø§ Ø¹Ù„Ù‰ Ø§Ù„Ø¬Ù…Ø¹ Ø¨ÙŠÙ† Ø§Ù„Ø£ØµØ§Ù„Ø© ÙˆØ§Ù„Ø­Ø¯Ø§Ø«Ø©ØŒ Ø¨ÙŠÙ† Ø§Ù„ØªØ±Ø§Ø« ÙˆØ§Ù„Ù…Ø¹Ø§ØµØ±Ø©. Ø¥Ù†Ù‡Ø§ ØªÙ‚Ø¯Ù… Ø±Ø¤ÙŠØ© Ø¹Ù…ÙŠÙ‚Ø© Ù„Ù„ÙˆØ§Ù‚Ø¹ Ø§Ù„Ø¹Ø±Ø¨ÙŠØŒ ÙˆØªÙØªØ­ Ù†Ø§ÙØ°Ø© Ø¹Ù„Ù‰ Ø¹ÙˆØ§Ù„Ù… Ø¥Ù†Ø³Ø§Ù†ÙŠØ© ØºÙ†ÙŠØ© ÙˆÙ…ØªÙ†ÙˆØ¹Ø©.`,
    category: 'literary',
    date: '2025-10-03'
  },
  {
    id: 5,
    title: 'Ø§Ù„Ø¹Ù‚Ù„ ÙˆØ§Ù„Ù†Ù‚Ù„: Ø¬Ø¯Ù„ÙŠØ© Ø§Ù„Ù…Ø¹Ø±ÙØ© ÙÙŠ Ø§Ù„ÙÙƒØ± Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠ',
    excerpt: 'Ø§Ù„Ø¹Ù„Ø§Ù‚Ø© Ø¨ÙŠÙ† Ø§Ù„Ø¹Ù‚Ù„ ÙˆØ§Ù„Ù†Ù‚Ù„ Ù…Ù† Ø§Ù„Ù‚Ø¶Ø§ÙŠØ§ Ø§Ù„Ù…Ø­ÙˆØ±ÙŠØ© ÙÙŠ Ø§Ù„ÙÙƒØ± Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØŒ ÙˆÙ‚Ø¯ Ø´ØºÙ„Øª Ø§Ù„Ø¹Ù„Ù…Ø§Ø¡ ÙˆØ§Ù„ÙÙ„Ø§Ø³ÙØ©...',
    content: `Ø§Ù„Ø¹Ù„Ø§Ù‚Ø© Ø¨ÙŠÙ† Ø§Ù„Ø¹Ù‚Ù„ ÙˆØ§Ù„Ù†Ù‚Ù„ Ù…Ù† Ø§Ù„Ù‚Ø¶Ø§ÙŠØ§ Ø§Ù„Ù…Ø­ÙˆØ±ÙŠØ© ÙÙŠ Ø§Ù„ÙÙƒØ± Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØŒ ÙˆÙ‚Ø¯ Ø´ØºÙ„Øª Ø§Ù„Ø¹Ù„Ù…Ø§Ø¡ ÙˆØ§Ù„ÙÙ„Ø§Ø³ÙØ© Ø§Ù„Ù…Ø³Ù„Ù…ÙŠÙ† Ø¹Ø¨Ø± Ø§Ù„Ù‚Ø±ÙˆÙ†. ÙØ§Ù„Ø¥Ø³Ù„Ø§Ù… ÙŠØ¯Ø¹Ùˆ Ø¥Ù„Ù‰ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¹Ù‚Ù„ ÙˆØ§Ù„ØªÙÙƒØ±ØŒ ÙƒÙ…Ø§ ÙŠØ¤ÙƒØ¯ Ø¹Ù„Ù‰ Ø£Ù‡Ù…ÙŠØ© Ø§Ù„ÙˆØ­ÙŠ ÙƒÙ…ØµØ¯Ø± Ù„Ù„Ù…Ø¹Ø±ÙØ©.

ÙŠØ±Ù‰ Ø§Ù„Ø¥Ù…Ø§Ù… Ø§Ù„ØºØ²Ø§Ù„ÙŠ Ø£Ù† Ø§Ù„Ø¹Ù‚Ù„ ÙˆØ§Ù„Ù†Ù‚Ù„ Ù„Ø§ ÙŠØªØ¹Ø§Ø±Ø¶Ø§Ù†ØŒ Ø¨Ù„ ÙŠØªÙƒØ§Ù…Ù„Ø§Ù†. ÙØ§Ù„Ø¹Ù‚Ù„ ÙŠØ¯Ø±Ùƒ Ø§Ù„Ø­Ù‚Ø§Ø¦Ù‚ Ø§Ù„Ø¹Ø§Ù…Ø©ØŒ Ø¨ÙŠÙ†Ù…Ø§ Ø§Ù„Ù†Ù‚Ù„ ÙŠÙˆØ¶Ø­ Ø§Ù„ØªÙØ§ØµÙŠÙ„ ÙˆÙŠØ±Ø´Ø¯ Ø¥Ù„Ù‰ Ø§Ù„ØµÙˆØ§Ø¨. ÙˆÙ‡Ø°Ø§ Ø§Ù„ØªÙƒØ§Ù…Ù„ Ù‡Ùˆ Ù…Ø§ ÙŠÙ…ÙŠØ² Ø§Ù„Ù…Ù†Ù‡Ø¬ Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠ ÙÙŠ Ø§Ù„Ù…Ø¹Ø±ÙØ©.

ÙÙŠ Ø¹ØµØ±Ù†Ø§ Ø§Ù„Ø­Ø§Ø¶Ø±ØŒ Ù†Ø­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ø¥Ø­ÙŠØ§Ø¡ Ù‡Ø°Ø§ Ø§Ù„ØªÙˆØ§Ø²Ù† Ø¨ÙŠÙ† Ø§Ù„Ø¹Ù‚Ù„ ÙˆØ§Ù„Ù†Ù‚Ù„. ÙÙ„Ø§ ÙŠÙ…ÙƒÙ† Ø£Ù† Ù†ØªÙ‚Ø¯Ù… Ø¨Ø§Ù„Ø¹Ù‚Ù„ ÙˆØ­Ø¯Ù‡ Ø¯ÙˆÙ† Ù‡Ø¯Ø§ÙŠØ© Ø§Ù„ÙˆØ­ÙŠØŒ ÙˆÙ„Ø§ ÙŠÙ…ÙƒÙ† Ø£Ù† Ù†ÙÙ‡Ù… Ø§Ù„Ù†ØµÙˆØµ Ø§Ù„Ø´Ø±Ø¹ÙŠØ© ÙÙ‡Ù…Ø§Ù‹ ØµØ­ÙŠØ­Ø§Ù‹ Ø¯ÙˆÙ† Ø¥Ø¹Ù…Ø§Ù„ Ø§Ù„Ø¹Ù‚Ù„. Ø¥Ù† Ø§Ù„Ø¬Ù…Ø¹ Ø¨ÙŠÙ† Ø§Ù„Ø¹Ù‚Ù„ ÙˆØ§Ù„Ù†Ù‚Ù„ Ù‡Ùˆ Ø§Ù„Ø³Ø¨ÙŠÙ„ Ù„ØªØ­Ù‚ÙŠÙ‚ Ù†Ù‡Ø¶Ø© ÙÙƒØ±ÙŠØ© Ø­Ù‚ÙŠÙ‚ÙŠØ© ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù… Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠ.`,
    category: 'islamic',
    date: '2025-10-01'
  },
  {
    id: 6,
    title: 'Ù…Ø§ Ø¨Ø¹Ø¯ Ø§Ù„Ø­Ø¯Ø§Ø«Ø©: Ù†Ù‚Ø¯ ÙˆØªØ£Ù…Ù„',
    excerpt: 'Ù…Ø§ Ø¨Ø¹Ø¯ Ø§Ù„Ø­Ø¯Ø§Ø«Ø© Ù‡ÙŠ Ø­Ø±ÙƒØ© ÙÙƒØ±ÙŠØ© ÙˆØ«Ù‚Ø§ÙÙŠØ© Ø¸Ù‡Ø±Øª ÙÙŠ Ø§Ù„Ù†ØµÙ Ø§Ù„Ø«Ø§Ù†ÙŠ Ù…Ù† Ø§Ù„Ù‚Ø±Ù† Ø§Ù„Ø¹Ø´Ø±ÙŠÙ†...',
    content: `Ù…Ø§ Ø¨Ø¹Ø¯ Ø§Ù„Ø­Ø¯Ø§Ø«Ø© Ù‡ÙŠ Ø­Ø±ÙƒØ© ÙÙƒØ±ÙŠØ© ÙˆØ«Ù‚Ø§ÙÙŠØ© Ø¸Ù‡Ø±Øª ÙÙŠ Ø§Ù„Ù†ØµÙ Ø§Ù„Ø«Ø§Ù†ÙŠ Ù…Ù† Ø§Ù„Ù‚Ø±Ù† Ø§Ù„Ø¹Ø´Ø±ÙŠÙ†ØŒ ÙˆØªÙ…ÙŠØ²Øª Ø¨Ø±ÙØ¶ Ø§Ù„Ø³Ø±Ø¯ÙŠØ§Øª Ø§Ù„ÙƒØ¨Ø±Ù‰ ÙˆØ§Ù„Ø­Ù‚Ø§Ø¦Ù‚ Ø§Ù„Ù…Ø·Ù„Ù‚Ø©. Ù„ÙƒÙ† Ù‡Ù„ Ù‡Ø°Ø§ Ø§Ù„Ø±ÙØ¶ ÙŠÙ‚Ø¯Ù… Ø¨Ø¯ÙŠÙ„Ø§Ù‹ Ø­Ù‚ÙŠÙ‚ÙŠØ§Ù‹ØŒ Ø£Ù… Ø£Ù†Ù‡ ÙŠØ¤Ø¯ÙŠ Ø¥Ù„Ù‰ Ù†Ø³Ø¨ÙŠØ© Ù…Ø·Ù„Ù‚Ø© ØªÙ‡Ø¯Ø¯ Ø£Ø³Ø³ Ø§Ù„Ù…Ø¹Ø±ÙØ©ØŸ

Ù…Ù† Ø¬Ù‡Ø©ØŒ Ù‚Ø¯Ù…Øª Ù…Ø§ Ø¨Ø¹Ø¯ Ø§Ù„Ø­Ø¯Ø§Ø«Ø© Ù†Ù‚Ø¯Ø§Ù‹ Ù‚ÙŠÙ…Ø§Ù‹ Ù„Ù„Ø­Ø¯Ø§Ø«Ø© ÙˆØ§Ø¯Ø¹Ø§Ø¡Ø§ØªÙ‡Ø§ Ø¨Ø§Ù…ØªÙ„Ø§Ùƒ Ø§Ù„Ø­Ù‚ÙŠÙ‚Ø© Ø§Ù„Ù…Ø·Ù„Ù‚Ø©. ÙØªØ­Øª Ø§Ù„Ù…Ø¬Ø§Ù„ Ù„Ø£ØµÙˆØ§Øª Ù…Ù‡Ù…Ø´Ø©ØŒ ÙˆØ´ÙƒÙƒØª ÙÙŠ Ø§Ù„Ø³Ù„Ø·Ø© ÙˆØ§Ù„Ù‡ÙŠÙ…Ù†Ø©. Ù„ÙƒÙ† Ù…Ù† Ø¬Ù‡Ø© Ø£Ø®Ø±Ù‰ØŒ Ø£Ø¯Øª Ø¥Ù„Ù‰ ØªÙÙƒÙŠÙƒ ÙƒÙ„ Ø´ÙŠØ¡ Ø¯ÙˆÙ† ØªÙ‚Ø¯ÙŠÙ… Ø¨Ø¯ÙŠÙ„ Ø¨Ù†Ø§Ø¡.

Ø§Ù„ØªØ­Ø¯ÙŠ Ø§Ù„Ø°ÙŠ Ù†ÙˆØ§Ø¬Ù‡Ù‡ Ø§Ù„ÙŠÙˆÙ… Ù‡Ùˆ ÙƒÙŠÙ Ù†Ø³ØªÙÙŠØ¯ Ù…Ù† Ø§Ù„Ù†Ù‚Ø¯ Ù…Ø§ Ø¨Ø¹Ø¯ Ø§Ù„Ø­Ø¯Ø§Ø«ÙŠ Ø¯ÙˆÙ† Ø§Ù„ÙˆÙ‚ÙˆØ¹ ÙÙŠ ÙØ® Ø§Ù„Ù†Ø³Ø¨ÙŠØ© Ø§Ù„Ù…Ø·Ù„Ù‚Ø©. ÙƒÙŠÙ Ù†Ø­Ø§ÙØ¸ Ø¹Ù„Ù‰ Ù‚ÙŠÙ…Ù†Ø§ ÙˆØ­Ù‚Ø§Ø¦Ù‚Ù†Ø§ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© Ù…Ø¹ Ø§Ù„Ø§Ù†ÙØªØ§Ø­ Ø¹Ù„Ù‰ Ø§Ù„ØªÙ†ÙˆØ¹ ÙˆØ§Ù„Ø§Ø®ØªÙ„Ø§ÙØŸ Ù‡Ø°Ø§ Ø³Ø¤Ø§Ù„ ÙŠØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ ØªØ£Ù…Ù„ Ø¹Ù…ÙŠÙ‚ ÙˆÙ†Ù‚Ø§Ø´ Ø¬Ø§Ø¯.`,
    category: 'intellectual',
    date: '2025-09-28'
  }
];

// Health check endpoint
app.get('/api/health', (req, res) => {
  res.json({ 
    status: 'OK', 
    message: 'Backend server is running',
    timestamp: new Date().toISOString(),
    articlesCount: articles.length
  });
});

// Routes
app.get('/api/articles', (req, res) => {
  try {
    console.log(`Fetching all articles. Total: ${articles.length}`);
    res.json(articles);
  } catch (error) {
    console.error('Error fetching articles:', error);
    res.status(500).json({ message: 'Error fetching articles', error: error.message });
  }
});

app.get('/api/articles/:id', (req, res) => {
  try {
    const article = articles.find(a => a.id === parseInt(req.params.id));
    if (article) {
      console.log(`Article found: ${article.title}`);
      res.json(article);
    } else {
      console.log(`Article not found with id: ${req.params.id}`);
      res.status(404).json({ message: 'Article not found' });
    }
  } catch (error) {
    console.error('Error fetching article:', error);
    res.status(500).json({ message: 'Error fetching article', error: error.message });
  }
});

app.get('/api/articles/category/:category', (req, res) => {
  try {
    const categoryArticles = articles.filter(a => a.category === req.params.category);
    console.log(`Category: ${req.params.category}, Articles found: ${categoryArticles.length}`);
    res.json(categoryArticles);
  } catch (error) {
    console.error('Error fetching category articles:', error);
    res.status(500).json({ message: 'Error fetching category articles', error: error.message });
  }
});

// 404 handler
app.use((req, res) => {
  res.status(404).json({ message: 'Endpoint not found' });
});

// Error handler
app.use((err, req, res, next) => {
  console.error('Server error:', err);
  res.status(500).json({ message: 'Internal server error', error: err.message });
});

app.listen(PORT, () => {
  console.log(`
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  ğŸš€ Personal Blog Backend Server                  â•‘
â•‘  ğŸ“¡ Server: http://localhost:${PORT}                  â•‘
â•‘  âœ… Status: Running                               â•‘
â•‘  ğŸ“š Articles: ${articles.length} loaded                         â•‘
â•‘  ğŸ• Started: ${new Date().toLocaleString('ar-SA')}      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  `);
  console.log('\nğŸ“ Available Endpoints:');
  console.log(`   GET  http://localhost:${PORT}/api/health`);
  console.log(`   GET  http://localhost:${PORT}/api/articles`);
  console.log(`   GET  http://localhost:${PORT}/api/articles/:id`);
  console.log(`   GET  http://localhost:${PORT}/api/articles/category/:category`);
  console.log('\n');
});

